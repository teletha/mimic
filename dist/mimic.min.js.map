{"version":3,"file":"mimic.min.js","sources":["../src/mimic.js"],"sourcesContent":["/*\r\n * Copyright (C) 2021 Mimic Development Team\r\n *\r\n * Licensed under the MIT License (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *          https://opensource.org/licenses/MIT\r\n */\r\n\r\n// ============================================================\r\n// Define constants and static functions to be used inside Mimic\r\n// ============================================================\r\nconst\r\n\r\n\t/**\r\n\t * It is a function that does not do anything.\r\n\t * \r\n\t * @type {Function<Any, Any>}\r\n\t */\r\n\tnoop = () => { },\r\n\r\n\t/**\r\n\t * Utility to determine if the input value is a string.\r\n\t *\r\n\t * @param {Object} A value to test.\r\n\t * @return {boolean} A result of test.\r\n\t */\r\n\tisString = value => typeof value === \"string\" || value instanceof String,\r\n\r\n\t/**\r\n\t * Utility to parse the input string as HTML.\r\n\t *\r\n\t * @param {String} HTML text to parse.\r\n\t * @return {DocumentFragment} A parsed HTML fragment.\r\n\t */\r\n\tparseHTML = text => {\r\n\t\tlet t = document.createElement(\"template\")\r\n\t\tt.innerHTML = text\r\n\t\tif (text.startsWith(\"<o-\")) Mimic(t.content).children().add(\"mimic\")\r\n\t\treturn t.content\r\n\t},\r\n\r\n\t/**\r\n\t * Get all elements obtained by iterating through the specified DOM operations on the obtained DOM elements.\r\n\t * If the result of the operation is null or the element matches the exit condition, the operation will end there.\r\n\t * \r\n\t * @param {HTMLElement} e The initial target element.\r\n\t * @param {Function<HTMLElement, HTMLElement>} action Your DOM traversal operation\r\n\t * @param {String | HTMLElement} [stopper = null] CSS selector or HTMLElement pointing to the end element. (Optional)\r\n\t * @return {HTMLElement[]} Set of DOM elements.\r\n\t */\r\n\tall = function*(e, action, stopper) {\r\n\t\tlet stop = stopper ? isString(stopper) ? e => e.matches(stopper) : e => e === stopper : e => false\r\n\t\twhile ((e = action(e)) && !stop(e)) yield e\r\n\t},\r\n\r\n\t/**\r\n\t * It is essentially the same as flatMap with the DOM traversal operation applied to the original HTMLElement set,\r\n\t * but provides additional element uniqueness for the resulting set and filtering effects with CSS selectors.\r\n\t * \r\n\t * @param {Function<HTMLElement, Iterable<HTMLElement>>} traverser Your DOM traversal operation\r\n\t * @param {int} [filterIndex = 0] Indicates the location of the CSS selector used for filtering. (Optional)\r\n\t * @return {Mimic} Set of DOM elements.\r\n\t */\r\n\tflat = (traverser, filterIndex = 0) =>\r\n\t\tfunction(...arg) {\r\n\t\t\tlet unique = [...new Set(this.nodes.flatMap(n => traverser(n, ...arg)))]\r\n\t\t\treturn Mimic(arg[filterIndex] ? unique.filter(e => e.matches(arg[filterIndex])) : unique)\r\n\t\t},\r\n\r\n\t/**\r\n\t * Performs processing on each HTML element with possible side-effects, and returns its value if it has a result, or itself if it does not.\r\n\t * \r\n\t * @param {Consumer<T> | Supplier<T>} action Your DOM operation.\r\n\t * @return {Mimic} Set of DOM elements.\r\n\t */\r\n\tself = action =>\r\n\t\tfunction(...arg) {\r\n\t\t\treturn Mimic(this.nodes.map(n => action(n, ...arg) || n))\r\n\t\t},\r\n\r\n\t/**\r\n\t * Set and retrieve the associated value for an HTML element.\r\n\t * \r\n\t * @param {Consumer<T> | Supplier<T>} action Your DOM operation.\r\n\t * @return {Mimic} Set of DOM elements.\r\n\t */\r\n\tvalue = action =>\r\n\t\tfunction(...arg) {\r\n\t\t\tif (typeof arg[0] == \"function\") {\r\n\t\t\t\tlet component = this.closest(\".mimic\").nodes[0]\r\n\t\t\t\tif (component) {\r\n\t\t\t\t\tlet info = component.mimic || (component.mimic = {})\r\n\t\t\t\t\tlet renders = info.renders || (info.renders = [])\r\n\t\t\t\t\trenders.push(arg[0])\r\n\t\t\t\t}\r\n\t\t\t\targ[0] = arg[0]()\r\n\t\t\t}\r\n\t\t\tlet result = this.nodes.map(n => action(n, ...arg))[0]\r\n\t\t\treturn result === undefined || result === arg[arg.length - 1] ? this : result\r\n\t\t},\r\n\r\n\t/**\r\n\t * It converts the specified values to HTML elements and performs DOM operations on those values.\r\n\t * \r\n\t * @param {Element | Text | ShadowRoot | Array | String | Mimic} v HTML convertible object.\r\n\t * @param {Consumer<HTMLElement>} action Your DOM operation.\r\n\t */\r\n\tnodify = (v, action) => {\r\n\t\tif (v instanceof Element || v instanceof Text || v instanceof ShadowRoot) {\r\n\t\t\taction(v)\r\n\t\t} else if (Array.isArray(v)) {\r\n\t\t\tv.forEach(i => nodify(i, action))\r\n\t\t} else if (isString(v)) {\r\n\t\t\taction(v.trim()[0] === \"<\" ? parseHTML(v) : $(v))\r\n\t\t} else if (v instanceof Mimic) {\r\n\t\t\tnodify(v.nodes, action)\r\n\t\t}\r\n\t}\r\n\r\n// ============================================================\r\n// Define Mimic\r\n// ============================================================\r\n/*\r\n * The single entry point for Mimic.\r\n * This is a class, although it is not defined using the class syntax because it is supposed to be called as a function without the new operator.\r\n * This is something like a monad that can handle a group of recognizable HTML elements such as string, CSS selector, Node or its array.\r\n */\r\nexport function Mimic(query) {\r\n\tlet o = Object.create(this ? this.constructor.prototype : Mimic.prototype)\r\n\to.nodes = isString(query) ? [...(query.trim()[0] === \"<\" ? parseHTML(query).children : document.querySelectorAll(query))]\r\n\t\t: Array.isArray(query) ? query\r\n\t\t\t: !query ? [document]\r\n\t\t\t\t: query instanceof Node ? [query]\r\n\t\t\t\t\t: query instanceof Mimic ? [...query.nodes]\r\n\t\t\t\t\t\t: /* query instanceof NodeList || query instanceof HTMLCollection ? */[...query]\r\n\treturn o\r\n}\r\n\r\nMimic.prototype = {\r\n\teach: self((e, action) => action(e)),\r\n\r\n\tcontain: flat((e, selector) => e.querySelector(selector) ? e : [], 9),\r\n\tfilter: flat((e, condition) => condition(e) ? e : [], 9),\r\n\tis: flat((e, selector) => e.matches(selector) ? e : [], 9),\r\n\r\n\tparent: flat(e => e.parentNode),\r\n\tparents: flat(e => [...all(e, x => x.parentElement)]),\r\n\tclosest: self((e, selector) => e.closest(selector)),\r\n\tchildren: flat(e => [...e.children]),\r\n\tfind: flat((e, selector) => [...e.querySelectorAll(selector)], 9),\r\n\tfirst: flat(e => e.firstElementChild),\r\n\tlast: flat(e => e.lastElementChild),\r\n\tprev: flat(e => e.previousElementSibling),\r\n\tprevs: flat(e => [...all(e, x => x.previousElementSibling)]),\r\n\tprevUntil: flat((e, selectorOrElement) => [...all(e, x => x.previousElementSibling, selectorOrElement)], 1),\r\n\tnext: flat(e => e.nextElementSibling),\r\n\tnexts: flat(e => [...all(e, x => x.nextElementSibling)]),\r\n\tnextUntil: flat((e, selectorOrElement) => [...all(e, x => x.nextElementSibling, selectorOrElement)], 1),\r\n\r\n\tappend: self((e, node) => nodify(node, n => e.append(n))),\r\n\tappendTo: self((e, node) => nodify(node, n => n.append(e))),\r\n\tprepend: self((e, node) => nodify(node, n => e.prepend(n))),\r\n\tprependTo: self((e, node) => nodify(node, n => n.prepend(e))),\r\n\tbefore: self((e, node) => nodify(node, n => e.before(n))),\r\n\tinsertBefore: self((e, node) => nodify(node, n => n.before(e))),\r\n\tafter: self((e, node) => nodify(node, n => e.after(n))),\r\n\tinsertAfter: self((e, node) => nodify(node, n => n.after(e))),\r\n\tclone: self(e => e.cloneNode()),\r\n\tmake: flat((e, name, items, action) => action ? items.map(item => { let dom = Mimic(e).make(name).model(item); action(item, dom); return dom }).flatMap(e => e.nodes) : e.appendChild(document.createElement(name)), 9),\r\n\tsvg: flat((e, path) => e.appendChild(Mimic(`<svg class='svg ${path.substring(path.indexOf(\"#\") + 1)}' viewBox='0 0 24 24'><use href='${path}'/></svg>`).nodes[0]), 9),\r\n\r\n\tempty: self(e => e.replaceChildren()),\r\n\tclear: self(e => e.parentNode.removeChild(e)),\r\n\r\n\thtml: value((e, text) => text ? e.innerHTML = text : e.innerHTML),\r\n\ttext: value((e, text) => text ? e.textContent = text : e.textContent),\r\n\tattr: value((e, name, value) => value ? e.setAttribute(name, value) : e.getAttribute(name)),\r\n\tdata: value((e, name, value) => value ? e.dataset[name] = value : e.dataset[name]),\r\n\tcss: self((e, style) => isString(style) ? e.style.cssText = style : Object.keys(style).forEach(name => e.style[name] = style[name])),\r\n\tmodel: value((e, value) => value !== undefined ? e.model = value : e.model),\r\n\tvalue: value((e, value) => value !== undefined ? e.value = value : e.value),\r\n\ttoString: value(e => e.outerHTML),\r\n\r\n\tadd: value((e, name) => e.classList.add(name)),\r\n\tremove: value((e, name) => e.classList.remove(name)),\r\n\ttoggle: value((e, name, addAction = noop, removeAction = noop) => e.classList.toggle(name) ? addAction() : removeAction()),\r\n\thas: value((e, name) => e.classList.contains(name)),\r\n\tset: value((e, nameAndCondition) => Object.keys(nameAndCondition).forEach(name => e.classList[nameAndCondition[name] ? \"add\" : \"remove\"](name))),\r\n\treset: value((e, name) => e.className = (name || \"\")),\r\n\r\n\t// In cases where event listeners are registered during event processing, we delay the registration of all event listeners\r\n\t// because it may cause an infinite loop or supplement the event at an unintended timing.\r\n\ton: value((e, type, listener, options) => { activatable(e, type); setTimeout(() => e.addEventListener(type, options?.where ? event => event.target.matches(options.where + \",\" + options.where + \" *\") ? listener(event) : null : listener, options), 0) }),\r\n\toff: value((e, type, listener) => e.removeEventListener(type, listener)),\r\n\tdispatch: self((e, type) => e.dispatchEvent(new Event(type, { bubbles: true }))),\r\n\r\n\tshow: self((e, show) => e.style.display = show ? \"\" : \"none\"),\r\n}\r\n\r\n\"blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change input select submit keydown keypress keyup contextmenu\".split(\" \").forEach(type => {\r\n\tMimic.prototype[type] = function(listener, options) { return this.on(type, listener, options) }\r\n})\r\n\"id title href placeholder label name src type\".split(\" \").forEach(type => {\r\n\tMimic.prototype[type] = function(value) { return this.attr(type, value) }\r\n})\r\n\r\n\r\nfunction activatable(element, type) {\r\n\tif (element.closest) {\r\n\t\tlet component = element.closest(\".mimic\")\r\n\t\tif (component) {\r\n\t\t\tlet info = component.mimic || (component.mimic = {})\r\n\t\t\tlet count = ++info[type] || (info[type] = 1)\r\n\t\t\tif (count === 1) component.addEventListener(type, e => {\r\n\t\t\t\tconsole.log(\"need redraw \", component, e, info)\r\n\t\t\t\tinfo.renders?.forEach(render => render())\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n\r\n"],"names":["noop","isString","value","String","parseHTML","text","t","document","createElement","innerHTML","startsWith","Mimic","content","children","add","all","e","action","stopper","stop","matches","flat","traverser","filterIndex","arg","unique","Set","this","nodes","flatMap","n","filter","self","map","component","closest","info","mimic","renders","push","result","length","nodify","v","Element","Text","ShadowRoot","Array","isArray","forEach","i","trim","$","query","o","Object","create","constructor","prototype","querySelectorAll","Node","activatable","element","type","addEventListener","_a","console","log","render","each","contain","selector","querySelector","condition","is","parent","parentNode","parents","x","parentElement","find","first","firstElementChild","last","lastElementChild","prev","previousElementSibling","prevs","prevUntil","selectorOrElement","next","nextElementSibling","nexts","nextUntil","append","node","appendTo","prepend","prependTo","before","insertBefore","after","insertAfter","clone","cloneNode","make","name","items","item","dom","model","appendChild","svg","path","substring","indexOf","empty","replaceChildren","clear","removeChild","html","textContent","attr","setAttribute","getAttribute","data","dataset","css","style","cssText","keys","toString","outerHTML","classList","remove","toggle","addAction","removeAction","has","contains","set","nameAndCondition","reset","className","on","listener","options","setTimeout","where","event","target","off","removeEventListener","dispatch","dispatchEvent","Event","bubbles","show","display","split"],"mappings":"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"}